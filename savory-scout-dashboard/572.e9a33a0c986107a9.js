"use strict";(self.webpackChunksavory_scout_dashboard=self.webpackChunksavory_scout_dashboard||[]).push([[572],{4572:function(ti,Ee,h){h.r(Ee),h.d(Ee,{EditImageModule:function(){return ei}});var g=h(3144),v=h(5671),F=h(4902),L=h(7757),z=h.n(L),ne=h(655),Mt=h(1135),Zt=h(2035),ye=h(4086),re=h(3900),Ne=h(4004),At=h(8505),Fe=h(3520),Et=h(6537),Nt=h(7845),a=h(5e3),Le=h(5620),Ft=h(8306),Be=h(9646),ie=h(8996),Lt=h(8372),G=h(6351),oe=h(2011),Bt=h(3942),ae=h(5861),He=h(7685),se=h(7762),Ht=h(7326),be=h(136),ke=h(7777),ue=h(9681),O=h(2090),je=h(4859),Ge="firebasestorage.googleapis.com",Xe="storageBucket",C=function(t){(0,be.Z)(e,t);var n=(0,ke.Z)(e);function e(r,i){var o;return(0,v.Z)(this,e),(o=n.call(this,we(r),"Firebase Storage: ".concat(i," (").concat(we(r),")"))).customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf((0,Ht.Z)(o),e.prototype),o}return(0,g.Z)(e,[{key:"_codeEquals",value:function(i){return we(i)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?"".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this._baseMessage}}]),e}(O.ZR);function we(t){return"storage/"+t}function Ce(){return new C("unknown","An unknown error occurred, please check the error payload for server response.")}function We(){return new C("canceled","User canceled the upload/download.")}function qe(){return new C("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function X(t){return new C("invalid-argument",t)}function Ve(){return new C("app-deleted","The Firebase app was deleted.")}function Ye(t){return new C("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Y(t,n){return new C("invalid-format","String does not match format '"+t+"': "+n)}function $(t){throw new C("internal-error","Internal error: "+t)}var I=function(){function t(n,e){(0,v.Z)(this,t),this.bucket=n,this.path_=e}return(0,g.Z)(t,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(e,r){var i;try{i=t.makeFromUrl(e,r)}catch(o){return new t(e,"")}if(""===i.path)return i;throw function Qt(t){return new C("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}},{key:"makeFromUrl",value:function(e,r){var i=null,o="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+o+"(/(.*))?$","i");function d(j){j.path_=decodeURIComponent(j.path)}for(var p=r.replace(/[.]/g,"\\."),b=[{regex:c,indices:{bucket:1,path:3},postModify:function s(j){"/"===j.path.charAt(j.path.length-1)&&(j.path_=j.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(p,"/").concat("v[A-Za-z0-9_]+","/b/").concat(o,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:d},{regex:new RegExp("^https?://".concat(r===Ge?"(?:storage.googleapis.com|storage.cloud.google.com)":r,"/").concat(o,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:d}],U=0;U<b.length;U++){var B=b[U],te=B.regex.exec(e);if(te){var H=te[B.indices.path];H||(H=""),i=new t(te[B.indices.bucket],H),B.postModify(i);break}}if(null==i)throw function Jt(t){return new C("invalid-url","Invalid URL '"+t+"'.")}(e);return i}}]),t}(),nn=function(){function t(n){(0,v.Z)(this,t),this.promise_=Promise.reject(n)}return(0,g.Z)(t,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),t}();function le(t){return"string"==typeof t||t instanceof String}function $e(t){return xe()&&t instanceof Blob}function xe(){return"undefined"!=typeof Blob}function Re(t,n,e,r){if(r<n)throw X("Invalid value for '".concat(t,"'. Expected ").concat(n," or greater."));if(r>e)throw X("Invalid value for '".concat(t,"'. Expected ").concat(e," or less."))}function A(t,n,e){var r=n;return null==e&&(r="https://".concat(n)),"".concat(e,"://").concat(r,"/v0").concat(t)}function Je(t){var n=encodeURIComponent,e="?";for(var r in t)t.hasOwnProperty(r)&&(e=e+(n(r)+"=")+n(t[r])+"&");return e.slice(0,-1)}var N=function(){return(t=N||(N={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",N;var t}(),ln=function(){function t(n,e,r,i,o,s,u,c,l,d,f){var p=this;(0,v.Z)(this,t),this.url_=n,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(m,_){p.resolve_=m,p.reject_=_,p.start_()})}return(0,g.Z)(t,[{key:"start_",value:function(){var e=this,i=function(s,u){var c=e.resolve_,l=e.reject_,d=u.connection;if(u.wasSuccessCode)try{var f=e.callback_(d,d.getResponse());!function an(t){return void 0!==t}(f)?c():c(f)}catch(k){l(k)}else if(null!==d){var p=Ce();p.serverResponse=d.getErrorText(),l(e.errorCallback_?e.errorCallback_(d,p):p)}else l(u.canceled?e.appDelete_?Ve():We():function $t(){return new C("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?i(0,new ce(!1,null,!0)):this.backoffId_=function rn(t,n,e){var r=1,i=null,o=null,s=!1,u=0;function c(){return 2===u}var l=!1;function d(){if(!l){l=!0;for(var y=arguments.length,x=new Array(y),w=0;w<y;w++)x[w]=arguments[w];n.apply(null,x)}}function f(y){i=setTimeout(function(){i=null,t(m,c())},y)}function p(){o&&clearTimeout(o)}function m(y){if(l)p();else{for(var x=arguments.length,w=new Array(x>1?x-1:0),R=1;R<x;R++)w[R-1]=arguments[R];if(y)return p(),void d.call.apply(d,[null,y].concat(w));var U;if(c()||s)return p(),void d.call.apply(d,[null,y].concat(w));r<64&&(r*=2),1===u?(u=2,U=0):U=1e3*(r+Math.random()),f(U)}}var _=!1;function k(y){_||(_=!0,p(),!l&&(null!==i?(y||(u=2),clearTimeout(i),f(0)):y||(u=1)))}return f(0),o=setTimeout(function(){s=!0,k(!0)},e),k}(function(s,u){if(u)s(!1,new ce(!1,null,!0));else{var c=e.connectionFactory_();e.pendingConnection_=c;var l=function(f){null!==e.progressCallback_&&e.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==e.progressCallback_&&c.addUploadProgressListener(l),c.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&c.removeUploadProgressListener(l),e.pendingConnection_=null;var d=c.getErrorCode()===N.NO_ERROR,f=c.getStatus();if(d&&!e.isRetryStatusCode_(f)){var m=-1!==e.successCodes_.indexOf(f);s(!0,new ce(m,c))}else{var p=c.getErrorCode()===N.ABORT;s(!1,new ce(!1,null,p))}})}},i,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function on(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var r=e>=500&&e<600,o=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return r||o||s}}]),t}(),ce=(0,g.Z)(function t(n,e,r){(0,v.Z)(this,t),this.wasSuccessCode=n,this.connection=e,this.canceled=!!r});function gn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vn(){for(var t=gn(),n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(void 0!==t){for(var i=new t,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}if(xe())return new Blob(e);throw new C("unsupported-environment","This browser doesn't seem to support creating Blobs")}var S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Te=(0,g.Z)(function t(n,e){(0,v.Z)(this,t),this.data=n,this.contentType=e||null});function Pe(t,n){switch(t){case S.RAW:return new Te(Qe(n));case S.BASE64:case S.BASE64URL:return new Te(Ke(t,n));case S.DATA_URL:return new Te(function bn(t){var n=new et(t);return n.base64?Ke(S.BASE64,n.rest):function yn(t){var n;try{n=decodeURIComponent(t)}catch(e){throw Y(S.DATA_URL,"Malformed data URL.")}return Qe(n)}(n.rest)}(n),function kn(t){return new et(t).contentType}(n))}throw Ce()}function Qe(t){for(var n=[],e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<=127)n.push(r);else if(r<=2047)n.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(e<t.length-1&&56320==(64512&t.charCodeAt(e+1))){var o=r,s=t.charCodeAt(++e);n.push(240|(r=65536|(1023&o)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else n.push(239,191,189);else 56320==(64512&r)?n.push(239,191,189):n.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(n)}function Ke(t,n){switch(t){case S.BASE64:var e=-1!==n.indexOf("-"),r=-1!==n.indexOf("_");if(e||r)throw Y(t,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case S.BASE64URL:var o=-1!==n.indexOf("+"),s=-1!==n.indexOf("/");if(o||s)throw Y(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/")}var c;try{c=function _n(t){return atob(t)}(n)}catch(f){throw Y(t,"Invalid character found")}for(var l=new Uint8Array(c.length),d=0;d<c.length;d++)l[d]=c.charCodeAt(d);return l}var et=(0,g.Z)(function t(n){(0,v.Z)(this,t),this.base64=!1,this.contentType=null;var e=n.match(/^data:([^,]+)?,/);if(null===e)throw Y(S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=e[1]||null;null!=r&&(this.base64=function wn(t,n){return t.length>=n.length&&t.substring(t.length-n.length)===n}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=n.substring(n.indexOf(",")+1)}),de=function(){function t(n,e){(0,v.Z)(this,t);var r=0,i="";$e(n)?(this.data_=n,r=n.size,i=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),r=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),r=n.length),this.size_=r,this.type_=i}return(0,g.Z)(t,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(e,r){if($e(this.data_)){var o=function mn(t,n,e){return t.webkitSlice?t.webkitSlice(n,e):t.mozSlice?t.mozSlice(n,e):t.slice?t.slice(n,e):null}(this.data_,e,r);return null===o?null:new t(o)}return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(xe()){var o=r.map(function(d){return d instanceof t?d.data_:d});return new t(vn.apply(null,o))}var s=r.map(function(d){return le(d)?Pe(S.RAW,d).data:d.data_}),u=0;s.forEach(function(d){u+=d.byteLength});var c=new Uint8Array(u),l=0;return s.forEach(function(d){for(var f=0;f<d.length;f++)c[l++]=d[f]}),new t(c,!0)}}]),t}();function Se(t){var n;try{n=JSON.parse(t)}catch(e){return null}return function un(t){return"object"==typeof t&&!Array.isArray(t)}(n)?n:null}function tt(t){var n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}function Rn(t,n){return n}var T=(0,g.Z)(function t(n,e,r,i){(0,v.Z)(this,t),this.server=n,this.local=e||n,this.writable=!!r,this.xform=i||Rn}),fe=null;function J(){if(fe)return fe;var t=[];t.push(new T("bucket")),t.push(new T("generation")),t.push(new T("metageneration")),t.push(new T("name","fullPath",!0));var e=new T("name");e.xform=function n(o,s){return function Tn(t){return!le(t)||t.length<2?t:tt(t)}(s)},t.push(e);var i=new T("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new T("timeCreated")),t.push(new T("updated")),t.push(new T("md5Hash",null,!0)),t.push(new T("cacheControl",null,!0)),t.push(new T("contentDisposition",null,!0)),t.push(new T("contentEncoding",null,!0)),t.push(new T("contentLanguage",null,!0)),t.push(new T("contentType",null,!0)),t.push(new T("metadata","customMetadata",!0)),fe=t}function nt(t,n,e){var r=Se(n);return null===r?null:function Sn(t,n,e){for(var r={type:"file"},i=e.length,o=0;o<i;o++){var s=e[o];r[s.local]=s.xform(r,n[s.server])}return function Pn(t,n){Object.defineProperty(t,"ref",{get:function e(){var o=new I(t.bucket,t.fullPath);return n._makeStorageReference(o)}})}(r,t),r}(t,r,e)}function Ie(t,n){for(var e={},r=n.length,i=0;i<r;i++){var o=n[i];o.writable&&(e[o.server]=t[o.local])}return JSON.stringify(e)}var rt="prefixes";var M=(0,g.Z)(function t(n,e,r,i){(0,v.Z)(this,t),this.url=n,this.method=e,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]});function Z(t){if(!t)throw Ce()}function he(t,n){return function e(r,i){var o=nt(t,i,n);return Z(null!==o),o}}function W(t){return function n(e,r){var i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Vt(){return new C("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function qt(){return new C("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Wt(t){return new C("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===e.getStatus()?function Yt(t){return new C("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r,i.serverResponse=r.serverResponse,i}}function Q(t){var n=W(t);return function e(r,i){var o=n(r,i);return 404===r.getStatus()&&(o=function Xt(t){return new C("object-not-found","Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function ot(t,n,e){var i=A(n.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,u=new M(i,"GET",he(t,e),s);return u.errorHandler=Q(n),u}function Mn(t,n,e,r,i){var o={};o.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(o.delimiter=e),r&&(o.pageToken=r),i&&(o.maxResults=i);var u=A(n.bucketOnlyServerUrl(),t.host,t._protocol),l=t.maxOperationRetryTime,d=new M(u,"GET",function zn(t,n){return function e(r,i){var o=function Un(t,n,e){var r=Se(e);return null===r?null:function Dn(t,n,e){var r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[rt]){var o,i=(0,se.Z)(e[rt]);try{for(i.s();!(o=i.n()).done;){var u=o.value.replace(/\/$/,""),c=t._makeStorageReference(new I(n,u));r.prefixes.push(c)}}catch(m){i.e(m)}finally{i.f()}}if(e.items){var d,l=(0,se.Z)(e.items);try{for(l.s();!(d=l.n()).done;){var p=t._makeStorageReference(new I(n,d.value.name));r.items.push(p)}}catch(m){l.e(m)}finally{l.f()}}return r}(t,n,r)}(t,n,i);return Z(null!==o),o}}(t,n.bucket),l);return d.urlParams=o,d.errorHandler=W(n),d}function st(t,n,e){var r=Object.assign({},e);return r.fullPath=t.path,r.size=n.size(),r.contentType||(r.contentType=function Nn(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}(null,n)),r}var pe=(0,g.Z)(function t(n,e,r,i){(0,v.Z)(this,t),this.current=n,this.total=e,this.finalized=!!r,this.metadata=i||null});function De(t,n){var e=null;try{e=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){Z(!1)}return Z(!!e&&-1!==(n||["active"]).indexOf(e)),e}var Hn={STATE_CHANGED:"state_changed"},P={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ue(t){switch(t){case"running":case"pausing":case"canceling":return P.RUNNING;case"paused":return P.PAUSED;case"success":return P.SUCCESS;case"canceled":return P.CANCELED;default:return P.ERROR}}var jn=(0,g.Z)(function t(n,e,r){(0,v.Z)(this,t);var i=function sn(t){return"function"==typeof t}(n)||null!=e||null!=r;if(i)this.next=n,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{var o=n;this.next=o.next,this.error=o.error,this.complete=o.complete}});function q(t){return function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Xn=function(t){(0,be.Z)(e,t);var n=(0,ke.Z)(e);function e(){return(0,v.Z)(this,e),n.apply(this,arguments)}return(0,g.Z)(e,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),e}(function(){function t(){var n=this;(0,v.Z)(this,t),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=N.NO_ERROR,this.sendPromise_=new Promise(function(e){n.xhr_.addEventListener("abort",function(){n.errorCode_=N.ABORT,e()}),n.xhr_.addEventListener("error",function(){n.errorCode_=N.NETWORK_ERROR,e()}),n.xhr_.addEventListener("load",function(){e()})})}return(0,g.Z)(t,[{key:"send",value:function(e,r,i,o){if(this.sent_)throw $("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==o)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw $("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw $("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw $("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw $("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),t}());function D(){return new Xn}var dt=function(){function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,v.Z)(this,t),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=i,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){r._request=void 0,r._chunkMultiplier=1,o._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=o,r._transition("error"))},this._metadataErrorHandler=function(o){r._request=void 0,o._codeEquals("canceled")?r.completeTransitions_():(r._error=o,r._transition("error"))},this._promise=new Promise(function(o,s){r._resolve=o,r._reject=s,r._start()}),this._promise.then(null,function(){})}return(0,g.Z)(t,[{key:"_makeProgressCallback",value:function(){var e=this,r=this._transferred;return function(i){return e._updateProgress(r+i)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var r=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=(0,He.Z)(i,2),s=o[0],u=o[1];switch(r._state){case"running":e(s,u);break;case"canceling":r._transition("canceled");break;case"pausing":r._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(r,i){var o=function Fn(t,n,e,r,i){var o=n.bucketOnlyServerUrl(),s=st(n,r,i),u={name:s.fullPath},c=A(o,t.host,t._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=Ie(s,e),_=new M(c,"POST",function m(k){var y;De(k);try{y=k.getResponseHeader("X-Goog-Upload-URL")}catch(x){Z(!1)}return Z(le(y)),y},t.maxUploadRetryTime);return _.urlParams=u,_.headers=d,_.body=f,_.errorHandler=W(n),_}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),s=e._ref.storage._makeRequest(o,D,r,i);e._request=s,s.getPromise().then(function(u){e._request=void 0,e._uploadUrl=u,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,r=this._uploadUrl;this._resolveToken(function(i,o){var s=function Ln(t,n,e,r){var c=new M(e,"POST",function o(l){var d=De(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch(m){Z(!1)}f||Z(!1);var p=Number(f);return Z(!isNaN(p)),new pe(p,r.size(),"final"===d)},t.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=W(n),c}(e._ref.storage,e._ref._location,r,e._blob),u=e._ref.storage._makeRequest(s,D,i,o);e._request=u,u.getPromise().then(function(c){c=c,e._request=void 0,e._updateProgress(c.current),e._needToFetchStatus=!1,c.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,r=262144*this._chunkMultiplier,i=new pe(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var c;try{c=function Bn(t,n,e,r,i,o,s,u){var c=new pe(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw function en(){return new C("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var l=c.total-c.current,d=l;i>0&&(d=Math.min(d,i));var f=c.current,p=f+d,_={"X-Goog-Upload-Command":d===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(c.current)},k=r.slice(f,p);if(null===k)throw qe();var R=new M(e,"POST",function y(b,U){var H,B=De(b,["active","final"]),te=c.current+d,Ae=r.size();return H="final"===B?he(n,o)(b,U):null,new pe(te,Ae,"final"===B,H)},n.maxUploadRetryTime);return R.headers=_,R.body=k.uploadData(),R.progressCallback=u||null,R.errorHandler=W(t),R}(e._ref._location,e._ref.storage,o,e._blob,r,e._mappings,i,e._makeProgressCallback())}catch(d){return e._error=d,void e._transition("error")}var l=e._ref.storage._makeRequest(c,D,s,u);e._request=l,l.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(r,i){var o=ot(e._ref.storage,e._ref._location,e._mappings),s=e._ref.storage._makeRequest(o,D,r,i);e._request=s,s.getPromise().then(function(u){e._request=void 0,e._metadata=u,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(r,i){var o=function ut(t,n,e,r,i){var o=n.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function u(){for(var R="",b=0;b<2;b++)R+=Math.random().toString().slice(2);return R}();s["Content-Type"]="multipart/related; boundary="+c;var l=st(n,r,i),d=Ie(l,e),m=de.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+c+"--");if(null===m)throw qe();var _={name:l.fullPath},k=A(o,t.host,t._protocol),x=t.maxUploadRetryTime,w=new M(k,"POST",he(t,e),x);return w.urlParams=_,w.headers=s,w.body=m.uploadData(),w.errorHandler=W(n),w}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),s=e._ref.storage._makeRequest(o,D,r,i);e._request=s,s.getPromise().then(function(u){e._request=void 0,e._metadata=u,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=We(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Ue(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,r,i,o){var s=this,u=new jn(r||void 0,i||void 0,o||void 0);return this._addObserver(u),function(){s._removeObserver(u)}}},{key:"then",value:function(e,r){return this._promise.then(e,r)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(i){e._notifyObserver(i)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Ue(this._state)){case P.SUCCESS:q(this._resolve.bind(null,this.snapshot))();break;case P.CANCELED:case P.ERROR:q(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Ue(this._state)){case P.RUNNING:case P.PAUSED:e.next&&q(e.next.bind(e,this.snapshot))();break;case P.SUCCESS:e.complete&&q(e.complete.bind(e))();break;default:e.error&&q(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),t}(),ge=function(){function t(n,e){(0,v.Z)(this,t),this._service=n,this._location=e instanceof I?e:I.makeFromUrl(e,n.host)}return(0,g.Z)(t,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(e,r){return new t(e,r)}},{key:"root",get:function(){var e=new I(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return tt(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var e=function Cn(t){if(0===t.length)return null;var n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===e)return null;var r=new I(this._location.bucket,e);return new t(this._service,r)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Ye(e)}}]),t}();function ht(t,n,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,ae.Z)(z().mark(function t(n,e,r){var i,o,s,u;return z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s={pageToken:r},l.next=3,pt(n,s);case 3:if((i=e.prefixes).push.apply(i,(0,F.Z)((u=l.sent).prefixes)),(o=e.items).push.apply(o,(0,F.Z)(u.items)),null==u.nextPageToken){l.next=9;break}return l.next=9,ht(n,e,u.nextPageToken);case 9:case"end":return l.stop()}},t)}))).apply(this,arguments)}function pt(t,n){null!=n&&"number"==typeof n.maxResults&&Re("options.maxResults",1,1e3,n.maxResults);var e=n||{},r=Mn(t.storage,t._location,"/",e.pageToken,e.maxResults);return t.storage.makeRequestWithTokens(r,D)}function rr(t){t._throwIfRoot("getDownloadURL");var n=function Zn(t,n,e){var i=A(n.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,u=new M(i,"GET",function On(t,n){return function e(r,i){var o=nt(t,i,n);return Z(null!==o),function In(t,n,e,r){var i=Se(n);if(null===i||!le(i.downloadTokens))return null;var o=i.downloadTokens;if(0===o.length)return null;var s=encodeURIComponent;return o.split(",").map(function(l){var f=t.fullPath;return A("/b/"+s(t.bucket)+"/o/"+s(f),e,r)+Je({alt:"media",token:l})})[0]}(o,i,t.host,t._protocol)}}(t,e),s);return u.errorHandler=Q(n),u}(t.storage,t._location,J());return t.storage.makeRequestWithTokens(n,D).then(function(e){if(null===e)throw function tn(){return new C("no-download-url","The given file does not have any download URLs.")}();return e})}function gt(t,n){var e=function xn(t,n){var e=n.split("/").filter(function(r){return r.length>0}).join("/");return 0===t.length?e:t+"/"+e}(t._location.path,n),r=new I(t._location.bucket,e);return new ge(t.storage,r)}function vt(t,n){if(t instanceof Oe){var e=t;if(null==e._bucket)throw function Kt(){return new C("no-default-bucket","No default bucket found. Did you set the '"+Xe+"' property when initializing the app?")}();var r=new ge(e,e._bucket);return null!=n?vt(r,n):r}return void 0!==n?gt(t,n):t}function sr(t,n){if(n&&function or(t){return/^[A-Za-z]+:\/\//.test(t)}(n)){if(t instanceof Oe)return function ar(t,n){return new ge(t,n)}(t,n);throw X("To use ref(service, url), the first argument must be a Storage instance.")}return vt(t,n)}function mt(t,n){var e=null==n?void 0:n[Xe];return null==e?null:I.makeFromBucketSpec(e,t)}function ur(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.host="".concat(n,":").concat(e),t._protocol="http";var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:(0,O.Sg)(i,t.app.options.projectId))}var Oe=function(){function t(n,e,r,i,o){(0,v.Z)(this,t),this.app=n,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?I.makeFromBucketSpec(i,this._host):mt(this._host,this.app.options)}return(0,g.Z)(t,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?I.makeFromBucketSpec(this._url,e):mt(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Re("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Re("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:(n=(0,ae.Z)(z().mark(function r(){var i,o;return z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._overrideAuthToken){u.next=2;break}return u.abrupt("return",this._overrideAuthToken);case 2:if(!(i=this._authProvider.getImmediate({optional:!0}))){u.next=9;break}return u.next=6,i.getToken();case 6:if(null===(o=u.sent)){u.next=9;break}return u.abrupt("return",o.accessToken);case 9:return u.abrupt("return",null);case 10:case"end":return u.stop()}},r,this)})),function e(){return n.apply(this,arguments)})},{key:"_getAppCheckToken",value:function(){var n=(0,ae.Z)(z().mark(function r(){var i;return z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(i=this._appCheckProvider.getImmediate({optional:!0}))){u.next=6;break}return u.next=4,i.getToken();case 4:return u.abrupt("return",u.sent.token);case 6:return u.abrupt("return",null);case 7:case"end":return u.stop()}},r,this)}));return function e(){return n.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ge(this,e)}},{key:"_makeRequest",value:function(e,r,i,o){var s=this;if(this._deleted)return new nn(Ve());var u=function pn(t,n,e,r,i,o){var s=Je(t.urlParams),u=t.url+s,c=Object.assign({},t.headers);return function fn(t,n){n&&(t["X-Firebase-GMPID"]=n)}(c,n),function cn(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(c,e),function dn(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(c,o),function hn(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(c,r),new ln(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(e,this._appId,i,o,r,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return s._requests.delete(u)},function(){return s._requests.delete(u)}),u}},{key:"makeRequestWithTokens",value:function(){var n=(0,ae.Z)(z().mark(function r(i,o){var u;return z().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return u=(0,He.Z)(f.sent,2),f.abrupt("return",this._makeRequest(i,o,u[0],u[1]).getPromise());case 7:case"end":return f.stop()}},r,this)}));return function e(r,i){return n.apply(this,arguments)}}()}]),t;var n}(),_t="@firebase/storage";function kt(t,n){return sr(t=(0,O.m9)(t),n)}function mr(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ur(t,n,e,r)}function _r(t,n){var e=n.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Oe(r,i,o,e,ue.SDK_VERSION)}!function yr(){(0,ue._registerComponent)(new je.wA("storage",_r,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(_t,"0.9.2",""),(0,ue.registerVersion)(_t,"0.9.2","esm2017")}();var ve=function(){function t(n,e,r){(0,v.Z)(this,t),this._delegate=n,this.task=e,this.ref=r}return(0,g.Z)(t,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),t}(),wt=function(){function t(n,e){(0,v.Z)(this,t),this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,g.Z)(t,[{key:"snapshot",get:function(){return new ve(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,r){var i=this;return this._delegate.then(function(o){if(e)return e(new ve(o,i,i._ref))},r)}},{key:"on",value:function(e,r,i,o){var s=this,u=void 0;return r&&(u="function"==typeof r?function(l){return r(new ve(l,s,s._ref))}:{next:r.next?function(c){return r.next(new ve(c,s,s._ref))}:void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,u,i||void 0,o||void 0)}}]),t}(),Ct=function(){function t(n,e){(0,v.Z)(this,t),this._delegate=n,this._service=e}return(0,g.Z)(t,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map(function(r){return new K(r,e._service)})}},{key:"items",get:function(){var e=this;return this._delegate.items.map(function(r){return new K(r,e._service)})}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),t}(),K=function(){function t(n,e){(0,v.Z)(this,t),this._delegate=n,this.storage=e}return(0,g.Z)(t,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(e){var r=function vr(t,n){return gt(t,n)}(this._delegate,e);return new t(r,this.storage)}},{key:"root",get:function(){return new t(this._delegate.root,this.storage)}},{key:"parent",get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)}},{key:"put",value:function(e,r){return this._throwIfRoot("put"),new wt(function lr(t,n,e){return function Qn(t,n,e){return t._throwIfRoot("uploadBytesResumable"),new dt(t,new de(n),e)}(t=(0,O.m9)(t),n,e)}(this._delegate,e,r),this)}},{key:"putString",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.RAW,i=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var o=Pe(r,e),s=Object.assign({},i);return null==s.contentType&&null!=o.contentType&&(s.contentType=o.contentType),new wt(new dt(this._delegate,new de(o.data,!0),s),this)}},{key:"listAll",value:function(){var e=this;return function hr(t){return function er(t){var n={prefixes:[],items:[]};return ht(t,n).then(function(){return n})}(t=(0,O.m9)(t))}(this._delegate).then(function(r){return new Ct(r,e.storage)})}},{key:"list",value:function(e){var r=this;return function fr(t,n){return pt(t=(0,O.m9)(t),n)}(this._delegate,e||void 0).then(function(i){return new Ct(i,r.storage)})}},{key:"getMetadata",value:function(){return function cr(t){return function tr(t){t._throwIfRoot("getMetadata");var n=ot(t.storage,t._location,J());return t.storage.makeRequestWithTokens(n,D)}(t=(0,O.m9)(t))}(this._delegate)}},{key:"updateMetadata",value:function(e){return function dr(t,n){return function nr(t,n){t._throwIfRoot("updateMetadata");var e=function An(t,n,e,r){var o=A(n.fullServerUrl(),t.host,t._protocol),u=Ie(e,r),l=t.maxOperationRetryTime,d=new M(o,"PATCH",he(t,r),l);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=u,d.errorHandler=Q(n),d}(t.storage,t._location,n,J());return t.storage.makeRequestWithTokens(e,D)}(t=(0,O.m9)(t),n)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return function pr(t){return rr(t=(0,O.m9)(t))}(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),function gr(t){return function ir(t){t._throwIfRoot("deleteObject");var n=function En(t,n){var r=A(n.fullServerUrl(),t.host,t._protocol),u=new M(r,"DELETE",function s(c,l){},t.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=Q(n),u}(t.storage,t._location);return t.storage.makeRequestWithTokens(n,D)}(t=(0,O.m9)(t))}(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Ye(e)}}]),t}(),xt=function(){function t(n,e){(0,v.Z)(this,t),this.app=n,this._delegate=e}return(0,g.Z)(t,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Rt(e))throw X("ref() expected a child path but got a URL, use refFromURL instead.");return new K(kt(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Rt(e))throw X("refFromURL() expected a full URL but got a child path, use ref() instead.");try{I.makeFromUrl(e,this._delegate.host)}catch(r){throw X("refFromUrl() expected a valid full URL but got an invalid one.")}return new K(kt(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mr(this._delegate,e,r,i)}}]),t}();function Rt(t){return/^[A-Za-z]+:\/\//.test(t)}function Cr(t,n){var e=n.instanceIdentifier,r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new xt(r,i)}!function xr(t){var n={TaskState:P,TaskEvent:Hn,StringFormat:S,Storage:xt,Reference:K};t.INTERNAL.registerComponent(new je.wA("storage-compat",Cr,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.1.10")}(Bt.Z);var Rr=h(440),Tr=h(127);function Tt(t){var n=function Pr(t){return new Ft.y(function(n){var e=function(u){return n.next(u)};e(t.snapshot);var o=t.on("state_changed",e);return t.then(function(s){e(s),n.complete()},function(s){e(t.snapshot),n.error(s)}),function(){o()}}).pipe((0,Lt.b)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return n},percentageChanges:function(){return n.pipe((0,Ne.U)(function(r){return r.bytesTransferred/r.totalBytes*100}))}}}function me(t){return{getDownloadURL:function(){return(0,Be.of)(void 0).pipe(G.fc,(0,re.w)(function(){return t.getDownloadURL()}),G.iC)},getMetadata:function(){return(0,Be.of)(void 0).pipe(G.fc,(0,re.w)(function(){return t.getMetadata()}),G.iC)},delete:function(){return(0,ie.D)(t.delete())},child:function(e){return me(t.child(e))},updateMetadata:function(e){return(0,ie.D)(t.updateMetadata(e))},put:function(e,r){return Tt(t.put(e,r))},putString:function(e,r,i){return Tt(t.putString(e,r,i))},list:function(e){return(0,ie.D)(t.list(e))},listAll:function(){return(0,ie.D)(t.listAll())}}}var Sr=new a.OlP("angularfire2.storageBucket"),Ir=new a.OlP("angularfire2.storage.maxUploadRetryTime"),Dr=new a.OlP("angularfire2.storage.maxOperationRetryTime"),Ur=new a.OlP("angularfire2.storage.use-emulator"),Pt=function(){var t=function(){function n(e,r,i,o,s,u,c,l,d,f){(0,v.Z)(this,n);var p=(0,oe.on)(e,s,r);this.storage=(0,oe.cc)("".concat(p.name,".storage.").concat(i),"AngularFireStorage",p.name,function(){var m=s.runOutsideAngular(function(){return p.storage(i||void 0)});return d&&m.useEmulator.apply(m,(0,F.Z)(d)),c&&m.setMaxUploadRetryTime(c),l&&m.setMaxOperationRetryTime(l),m},[c,l])}return(0,g.Z)(n,[{key:"ref",value:function(r){return me(this.storage.ref(r))}},{key:"refFromURL",value:function(r){return me(this.storage.refFromURL(r))}},{key:"upload",value:function(r,i,o){return me(this.storage.ref(r)).put(i,o)}}]),n}();return t.\u0275fac=function(e){return new(e||t)(a.LFG(oe.Dh),a.LFG(oe.xv,8),a.LFG(Sr,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(G.HU),a.LFG(Ir,8),a.LFG(Dr,8),a.LFG(Ur,8),a.LFG(Rr.nm,8))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t}(),zr=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({}),t}(),Or=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n),Tr.Z.registerVersion("angularfire",G.q4.full,"gcs-compat")});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[Pt],imports:[zr]}),t}(),Me=function(){var t=(0,g.Z)(function n(e,r){var i=this;(0,v.Z)(this,n),this.store=e,this.storage=r,this.image=new Mt.X(""),this.image$=this.image.asObservable(),this.uploadImage=function(o){var s;i.store.dispatch(Fe.p()),console.log(" Location in Edit Image: ",o);var u="profile_images/".concat(i.location.id,"/").concat(i.location.id);console.log("path: ",u),i.storage.upload(u,o,{customMetadata:{location:i.location.name}}).percentageChanges().pipe((0,Zt.h)(1),(0,ye.g)(1e3),(0,re.w)(function(d){return i.storage.ref("profile_images/".concat(i.location.id,"/").concat(i.location.id)).getDownloadURL()}),(0,ye.g)(2e3),(0,re.w)(function(d){return s=d,i.storage.ref("profile_images/".concat(i.location.id,"/thumb_").concat(i.location.id)).getDownloadURL()}),(0,ye.g)(3e3),(0,Ne.U)(function(d){var f={image_url:s,thumb_url:d};return i.location.verification_stage<7&&(f=Object.assign(Object.assign({},f),{verification_stage:7})),i.store.dispatch(Nt.qg({data:f}))}),(0,At.b)(function(){return i.store.dispatch(Fe.X())})).subscribe()},this.updateImage=function(o){i.image.next(o)},this.location$=this.store.select(Et.o).subscribe(function(o){console.log("storing Location in Edit Image: ",o.location),i.location=o.location})});return t.\u0275fac=function(e){return new(e||t)(a.LFG(Le.yh),a.LFG(Pt))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t}(),Mr=h(4984),E=h(9808),St=h(2313);function Zr(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"ngx-dropzone-remove-badge",1),a.NdJ("click",function(i){return a.CHM(e),a.oxw()._remove(i)}),a.qZA()}}var It=[[["ngx-dropzone-label"]]],Dt=["ngx-dropzone-label"],Ar=["fileInput"];function Er(t,n){1&t&&a.Hsn(0,2,["*ngIf","!_hasPreviews"])}var Nr=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],Fr=["ngx-dropzone-preview","*","ngx-dropzone-label"];function Lr(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"ngx-dropzone-remove-badge",2),a.NdJ("click",function(i){return a.CHM(e),a.oxw()._remove(i)}),a.qZA()}}var Br=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["ngx-dropzone-label"]]}),t}();function V(t){return null!=t&&"false"!=="".concat(t)}var Ut=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,r){1&e&&(a.O4$(),a.TgZ(0,"svg"),a._UZ(1,"line",0),a._UZ(2,"line",1),a.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),t}(),ee=function(){return(t=ee||(ee={}))[t.BACKSPACE=8]="BACKSPACE",t[t.DELETE=46]="DELETE",ee;var t}(),Ze=function(){var t=function(){function n(e){(0,v.Z)(this,n),this.sanitizer=e,this._removable=!1,this.removed=new a.vpe,this.tabIndex=0}return(0,g.Z)(n,[{key:"file",get:function(){return this._file},set:function(r){this._file=r}},{key:"removable",get:function(){return this._removable},set:function(r){this._removable=V(r)}},{key:"keyEvent",value:function(r){switch(r.keyCode){case ee.BACKSPACE:case ee.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(r){r.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:function(){return(0,ne.mG)(this,void 0,void 0,L.mark(function r(){var i=this;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new Promise(function(u,c){var l=new FileReader;if(l.onload=function(d){u(d.target.result)},l.onerror=function(d){console.error("FileReader failed on file ".concat(i.file.name,".")),c(d)},!i.file)return c("No file to read. Please provide a file using the [file] Input property.");l.readAsDataURL(i.file)}));case 1:case"end":return s.stop()}},r)}))}}]),n}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(St.H7))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,r){1&e&&a.NdJ("keyup",function(o){return r.keyEvent(o)}),2&e&&(a.Ikx("tabindex",r.tabIndex),a.Akn(r.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:Dt,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(a.F$t(It),a.Hsn(0),a.YNc(1,Zr,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(a.xp6(1),a.Q6J("ngIf",r.removable))},directives:[Ut,E.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),t}(),zt=function(){var t=function(){function n(){(0,v.Z)(this,n)}return(0,g.Z)(n,[{key:"parseFileList",value:function(r,i,o,s){for(var u=[],c=[],l=0;l<r.length;l++){var d=r.item(l);this.isAccepted(d,i)?o&&d.size>o?this.rejectFile(c,d,"size"):!s&&u.length>=1?this.rejectFile(c,d,"no_multiple"):u.push(d):this.rejectFile(c,d,"type")}return{addedFiles:u,rejectedFiles:c}}},{key:"isAccepted",value:function(r,i){if("*"===i)return!0;var o=i.split(",").map(function(l){return l.toLowerCase().trim()}),s=r.type.toLowerCase(),u=r.name.toLowerCase();return!!o.find(function(l){return l.endsWith("/*")?s.split("/")[0]===l.split("/")[0]:l.startsWith(".")?u.endsWith(l):l==s})}},{key:"rejectFile",value:function(r,i,o){var s=i;s.reason=o,r.push(s)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t}(),jr=function(){var t=function(){function n(e){(0,v.Z)(this,n),this.service=e,this.change=new a.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}return(0,g.Z)(n,[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(r){this._disabled=V(r),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(r){this._multiple=V(r)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(r){this._maxFileSize=function Hr(t){return isNaN(parseFloat(t))||isNaN(Number(t))?null:Number(t)}(r)}},{key:"expandable",get:function(){return this._expandable},set:function(r){this._expandable=V(r)}},{key:"disableClick",get:function(){return this._disableClick},set:function(r){this._disableClick=V(r)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(r){this._processDirectoryDrop=V(r)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(r){this.disabled||(this.preventDefault(r),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(r){var i=this;if(!this.disabled)if(this.preventDefault(r),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var o=r.dataTransfer.items;if(o.length>0){for(var s=[],u=[],c=0;c<o.length;c++){var l=o[c].webkitGetAsEntry();l.isFile?s.push(r.dataTransfer.files[c]):l.isDirectory&&u.push(l)}var d=new DataTransfer;if(s.forEach(function(k){d.items.add(k)}),!u.length&&d.items.length&&this.handleFileDrop(d.files),u.length){var m,f=[],p=(0,se.Z)(u);try{for(p.s();!(m=p.n()).done;)f.push(this.extractFilesFromDirectory(m.value))}catch(k){p.e(k)}finally{p.f()}Promise.all(f).then(function(k){k.reduce(function(y,x){return[].concat((0,F.Z)(y),(0,F.Z)(x))}).forEach(function(y){d.items.add(y)}),i.handleFileDrop(d.files)})}}}else this.handleFileDrop(r.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(r){var i=this;function o(s){return(0,ne.mG)(this,void 0,void 0,L.mark(function u(){return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,new Promise(function(d,f){return s.file(d,f)});case 3:return l.abrupt("return",l.sent);case 6:l.prev=6,l.t0=l.catch(0),console.log("Error converting a fileEntry to a File: ",l.t0);case 9:case"end":return l.stop()}},u,null,[[0,6]])}))}return new Promise(function(s,u){var c=[],l=r.createReader();!function f(){l.readEntries(function(p){return(0,ne.mG)(i,void 0,void 0,L.mark(function m(){var _,k,y,x;return L.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(p.length){b.next=4;break}s(c),b.next=25;break;case 4:_=p.filter(function(U){return U.isFile}),k=(0,se.Z)(_),b.prev=6,k.s();case 8:if((y=k.n()).done){b.next=16;break}return x=y.value,b.next=12,o(x);case 12:c.push(b.sent);case 14:b.next=8;break;case 16:b.next=21;break;case 18:b.prev=18,b.t0=b.catch(6),k.e(b.t0);case 21:return b.prev=21,k.f(),b.finish(21);case 24:f();case 25:case"end":return b.stop()}},m,null,[[6,18,21,24]])}))})}()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(r){this.handleFileDrop(r.target.files),this._fileInput.nativeElement.value="",this.preventDefault(r)}},{key:"handleFileDrop",value:function(r){var i=this.service.parseFileList(r,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:i.addedFiles,rejectedFiles:i.rejectedFiles,source:this})}},{key:"preventDefault",value:function(r){r.preventDefault(),r.stopPropagation()}}]),n}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(zt,2))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,r,i){var o;1&e&&a.Suo(i,Ze,5),2&e&&a.iGM(o=a.CRH())&&(r._previewChildren=o)},viewQuery:function(e,r){var i;1&e&&a.Gf(Ar,7),2&e&&a.iGM(i=a.CRH())&&(r._fileInput=i.first)},hostVars:8,hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r._onClick()})("dragover",function(o){return r._onDragOver(o)})("dragleave",function(){return r._onDragLeave()})("drop",function(o){return r._onDrop(o)}),2&e&&a.ekj("ngx-dz-disabled",r.disabled)("expandable",r.expandable)("unclickable",r.disableClick)("ngx-dz-hovered",r._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[a._Bn([zt])],ngContentSelectors:Fr,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,r){1&e&&(a.F$t(Nr),a.TgZ(0,"input",0,1),a.NdJ("change",function(o){return r._onFilesSelected(o)}),a.qZA(),a.YNc(2,Er,1,0,"ng-content",2),a.Hsn(3),a.Hsn(4,1)),2&e&&(a.Q6J("id",r.id)("multiple",r.multiple)("accept",r.accept)("disabled",r.disabled),a.uIk("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedBy),a.xp6(2),a.Q6J("ngIf",!r._hasPreviews))},directives:[E.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),t}(),Gr=function(){var t=function(n){(0,be.Z)(r,n);var e=(0,ke.Z)(r);function r(i){var o;return(0,v.Z)(this,r),(o=e.call(this,i)).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",o.imageSrc=o.sanitizer.bypassSecurityTrustUrl(o.defaultImgLoading),o}return(0,g.Z)(r,[{key:"file",get:function(){return this._file},set:function(o){this._file=o,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var o=this;this.readFile().then(function(s){return setTimeout(function(){return o.imageSrc=s})}).catch(function(s){return console.error(s)})}}]),r}(Ze);return t.\u0275fac=function(e){return new(e||t)(a.Y36(St.H7))},t.\u0275cmp=a.Xpm({type:t,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[a._Bn([{provide:Ze,useExisting:t}]),a.qOj],ngContentSelectors:Dt,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(a.F$t(It),a._UZ(0,"img",0),a.Hsn(1),a.YNc(2,Lr,1,0,"ngx-dropzone-remove-badge",1)),2&e&&(a.Q6J("src",r.imageSrc,a.LSH),a.xp6(2),a.Q6J("ngIf",r.removable))},directives:[Ut,E.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),t}(),Xr=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[E.ez]]}),t}();function Wr(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"ngx-dropzone-image-preview",3),a.NdJ("removed",function(){var s=a.CHM(e).$implicit;return a.oxw().onRemove(s)}),a.qZA()}if(2&t){var r=n.$implicit;a.Q6J("removable",!0)("file",r)}}var qr=function(){var t=function(){function n(){(0,v.Z)(this,n),this.files=[],this.fileAdded=new a.vpe}return(0,g.Z)(n,[{key:"onSelect",value:function(r){this.files=(0,F.Z)(r.addedFiles),this.fileAdded.emit(r)}},{key:"onRemove",value:function(r){console.log(r),this.files.splice(this.files.indexOf(r),1)}}]),n}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-image-upload"]],outputs:{fileAdded:"fileAdded"},decls:6,vars:3,consts:[[2,"text-align","center"],["accept","image/jpeg,image/jpg,image/png,image/gif,image/heic",3,"multiple","maxFileSize","change"],["class","ngx-preview","ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],1,"ngx-preview",3,"removable","file","removed"]],template:function(e,r){1&e&&(a.TgZ(0,"p",0),a._uU(1,'Use the box below to upload a business image. Click "Done" at the bottom of the page when finished.'),a.qZA(),a.TgZ(2,"ngx-dropzone",1),a.NdJ("change",function(o){return r.onSelect(o)}),a.TgZ(3,"ngx-dropzone-label"),a._uU(4,"Drop a file or click!"),a.qZA(),a.YNc(5,Wr,1,2,"ngx-dropzone-image-preview",2),a.qZA()),2&e&&(a.xp6(2),a.Q6J("multiple",!1)("maxFileSize",8e6),a.xp6(3),a.Q6J("ngForOf",r.files))},directives:[jr,Br,E.sg,Gr],styles:[".ngx-preview[_ngcontent-%COMP%]{margin:auto!important}"]}),t}(),_e=h(9224);function Vr(t,n){if(1&t&&(a.TgZ(0,"mat-card",1),a.TgZ(1,"mat-card-header"),a.TgZ(2,"div",2),a.TgZ(3,"h3"),a._uU(4,"Image Preview:"),a.qZA(),a.TgZ(5,"div"),a._UZ(6,"img",3),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"mat-card-content"),a.TgZ(9,"p",4),a._uU(10,"Food"),a.qZA(),a.TgZ(11,"h4"),a._uU(12,"Food Special......."),a.qZA(),a.TgZ(13,"h4"),a._uU(14,"Food Special......."),a.qZA(),a.TgZ(15,"h4"),a._uU(16,"Food Special......."),a.qZA(),a.TgZ(17,"p",4),a._uU(18,"Drinks"),a.qZA(),a.TgZ(19,"h4"),a._uU(20,"Drink Special......."),a.qZA(),a.TgZ(21,"h4"),a._uU(22,"Drink Special......."),a.qZA(),a.TgZ(23,"h4"),a._uU(24,"Drink Special......."),a.qZA(),a.qZA(),a.qZA()),2&t){var e=a.oxw();a.xp6(6),a.s9C("src",a.lcZ(7,1,e.image$),a.LSH)}}var Yr=function(){var t=function(){function n(e){var r=this;(0,v.Z)(this,n),this.editImageService=e,this.imageUrl="",this.image$=this.editImageService.image$,this.onResize=function(i){r.screenWidth=window.innerWidth}}return(0,g.Z)(n,[{key:"ngOnInit",value:function(){this.onResize()}}]),n}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(Me))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-image-preview"]],hostBindings:function(e,r){1&e&&a.NdJ("resize",function(o){return r.onResize(o)},!1,a.Jf7)},decls:2,vars:3,consts:[["class","preview-card",4,"ngIf"],[1,"preview-card"],[2,"text-align","center"],["alt","",1,"image-preview",3,"src"],[1,"special-divider"]],template:function(e,r){1&e&&(a.YNc(0,Vr,25,3,"mat-card",0),a.ALo(1,"async")),2&e&&a.Q6J("ngIf",""!==a.lcZ(1,1,r.image$))},directives:[E.O5,_e.a8,_e.dk,_e.dn],pipes:[E.Ov],styles:[".image-preview[_ngcontent-%COMP%]{width:100%}.preview-card[_ngcontent-%COMP%]{width:80vw;margin:30px auto}.special-divider[_ngcontent-%COMP%]{text-align:center;background-color:green;color:#fff;margin:0;padding:0}  .mat-card-header-text{margin:0!important}  .mat-card-header{display:block!important}"]}),t}(),Ot=h(7423);function $r(t,n){if(1&t){var e=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"button",4),a.NdJ("click",function(){return a.CHM(e),a.oxw().onSubmit()}),a._uU(2,"Finished"),a.qZA(),a.qZA()}}var Jr=function(){var t=function(){function n(e,r){var i=this;(0,v.Z)(this,n),this.editImageService=e,this.store=r,this.files=[],this.imageUrl="",this.onFilesAdded=function(o){i.files=(0,F.Z)(o.addedFiles),i.readFile(i.files[0]).then(function(s){console.log(typeof s),i.imageUrl=s,i.editImageService.updateImage(s)})},this.onSubmit=function(){i.editImageService.uploadImage(i.imageFile)}}return(0,g.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"readFile",value:function(r){return(0,ne.mG)(this,void 0,void 0,z().mark(function i(){var o=this;return z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c,l){var d=new FileReader;if(d.onload=function(f){return c(f.target.result)},d.onerror=function(f){return console.error("FileReader failed on file ".concat(r.name,".")),l(null)},!r)return console.error("No file to read."),l(null);o.imageFile=r,d.readAsDataURL(r)}));case 1:case"end":return u.stop()}},i)}))}}]),n}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(Me),a.Y36(Le.yh))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-edit-image"]],decls:4,vars:2,consts:[[3,"message"],[3,"fileAdded"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["mat-stroked-button","","color","accent",1,"upload-btn",3,"click"]],template:function(e,r){1&e&&(a._UZ(0,"app-spinner",0),a.TgZ(1,"app-image-upload",1),a.NdJ("fileAdded",function(o){return r.onFilesAdded(o)}),a.qZA(),a._UZ(2,"app-image-preview"),a.YNc(3,$r,3,0,"div",2)),2&e&&(a.Q6J("message","Uploading Image..."),a.xp6(3),a.Q6J("ngIf",""!==r.imageUrl))},directives:[Mr.O,qr,Yr,E.O5,Ot.lW],styles:[".upload-btn[_ngcontent-%COMP%]{margin:20px auto;max-width:300px}"]}),t}(),Qr=h(3681),Kr=h(4466),ei=function(){var t=(0,g.Z)(function n(){(0,v.Z)(this,n)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[Me],imports:[[E.ez,Kr.m,Xr,_e.QW,Ot.ot,Or,Qr.Bz.forChild([{path:"",component:Jr}])]]}),t}()}}]);