"use strict";(self.webpackChunksavory_scout_dashboard=self.webpackChunksavory_scout_dashboard||[]).push([[140],{9140:function(he,q,r){r.r(q),r.d(q,{RegisterLocationModule:function(){return fe}});var h=r(3144),b=r(5671),C=r(520),e=r(5e3),R=function(){var t=function(){function i(n){(0,b.Z)(this,i),this.http=n,this.cloudUrl="https://us-central1-savoryscout"}return(0,h.Z)(i,[{key:"nexmoRegistrationCall",value:function(o,a){var s=new C.WM({"Content-Type":"application/json"});return this.http.post(this.cloudUrl+".cloudfunctions.net/nexmoRegistrationCall",{locationId:o,token:a},{headers:s})}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.LFG(C.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t}(),M=r(4834),Z=r(9808),m=r(3075),g=r(3520),Q=r(4845),S=r(5620),k=function(){var t=function(){function i(n){(0,b.Z)(this,i),this.http=n,this.states=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]}return(0,h.Z)(i,[{key:"searchGooglePlaces",value:function(o){o=o.replace(/ /g,"+"),console.log(o);var a=this;return new Promise(function(s,l){new google.maps.places.PlacesService(document.createElement("div")).textSearch({query:o,types:["restaurant","bar","cafe","bakery","bowling_alley","night_club","food","establishment"]},function f(d,x){x===google.maps.places.PlacesServiceStatus.OK?(console.dir(d),s(d)):(console.log("Status not OK"),s(a.searchGooglePlacesOpen(o)))})})}},{key:"searchGooglePlacesOpen",value:function(o){return o=o.replace(/ /g,"+"),console.log(o),o+=" establishment",new Promise(function(a,s){new google.maps.places.PlacesService(document.createElement("div")).textSearch({query:o},function u(f,d){d===google.maps.places.PlacesServiceStatus.OK?(console.dir(f),a(f)):(console.log("Status not OK"),s({message:"Invalid Search. Check spelling and add City/State if neeeded"}))})})}},{key:"getPlaceDetails",value:function(o){return new Promise(function(a,s){new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:o},function u(f,d){d===google.maps.places.PlacesServiceStatus.OK?(console.dir(f),a(f)):s({message:d})})})}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.LFG(C.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t}(),L=r(4984),p=r(9224),T=r(7322),F=r(7531),P=r(4107),U=r(508),I=r(7423),E=r(4623);function W(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function X(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," City is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&t){var n=i.$implicit;e.Q6J("value",n.abbreviation),e.xp6(1),e.hij(" ",n.name," ")}}function H(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," State is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}function K(t,i){if(1&t){var n=e.EpF();e.TgZ(0,"mat-list-item",17),e.NdJ("click",function(){var l=e.CHM(n).index;return e.oxw(2).onLocationClick(l)}),e._UZ(1,"mat-divider"),e.TgZ(2,"h2",18),e._uU(3),e.qZA(),e.TgZ(4,"h4",19),e._uU(5),e.qZA(),e.qZA()}if(2&t){var o=i.$implicit;e.xp6(3),e.Oqu(o.name),e.xp6(2),e.Oqu(o.formatted_address)}}function B(t,i){if(1&t&&(e.TgZ(0,"mat-card",15),e.TgZ(1,"mat-card-subtitle"),e.TgZ(2,"h2"),e._uU(3,"Results:"),e.qZA(),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e.TgZ(5,"h4"),e._uU(6,"Please select your location below:"),e.qZA(),e.qZA(),e.TgZ(7,"mat-card-content"),e._UZ(8,"hr"),e.TgZ(9,"mat-list"),e.YNc(10,K,6,2,"mat-list-item",16),e.qZA(),e.qZA(),e.qZA()),2&t){var n=e.oxw();e.xp6(10),e.Q6J("ngForOf",n.locations)}}var $=function(){var t=function(){function i(n,o,a){var s=this;(0,b.Z)(this,i),this.fb=n,this.store=o,this.googlePlacesService=a,this.states=this.googlePlacesService.states,this.progressEvent=new e.vpe,this.locationForm=this.fb.group({name:[null,m.kI.required],city:[null,m.kI.required],state:[null,m.kI.required]}),this.onLocationClick=function(l){s.googlePlacesService.getPlaceDetails(s.locations[l].place_id).then(function(c){console.log("Details: ",c),s.store.dispatch(Q.Lb({location:c})),s.progressEvent.emit(c)})}}return(0,h.Z)(i,[{key:"onSubmit",value:function(){var o=this;this.store.dispatch(g.p());var a="".concat(this.locationForm.value.name," ").concat(this.locationForm.value.city,", ").concat(this.locationForm.value.state);this.googlePlacesService.searchGooglePlaces(a).then(function(s){console.log(s),null!==s&&(o.locations=s),o.store.dispatch(g.X())})}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qu),e.Y36(S.yh),e.Y36(k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-find-restaurant"]],outputs:{progressEvent:"progressEvent"},decls:26,vars:8,consts:[[3,"message"],["novalidate","",3,"formGroup","ngSubmit"],[1,"main-card"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","Restaurant Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","City","formControlName","city"],[1,"col","col-state"],["placeholder","State","formControlName","state"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","main-card location-results-card",4,"ngIf"],[3,"value"],[1,"main-card","location-results-card"],["class","location-result",3,"click",4,"ngFor","ngForOf"],[1,"location-result",3,"click"],["mat-line","",2,"font-weight","bold"],["mat-line",""]],template:function(n,o){1&n&&(e._UZ(0,"app-spinner",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(2,"mat-card",2),e.TgZ(3,"mat-card-header"),e.TgZ(4,"mat-card-title"),e._uU(5,"Restaurant Search"),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-content"),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"mat-form-field",5),e._UZ(10,"input",6),e.YNc(11,W,4,0,"mat-error",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",3),e.TgZ(13,"div",4),e.TgZ(14,"mat-form-field",5),e._UZ(15,"input",8),e.YNc(16,X,4,0,"mat-error",7),e.qZA(),e.qZA(),e.TgZ(17,"div",9),e.TgZ(18,"mat-form-field",5),e.TgZ(19,"mat-select",10),e.YNc(20,j,2,2,"mat-option",11),e.qZA(),e.YNc(21,H,4,0,"mat-error",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"mat-card-actions"),e.TgZ(23,"button",12),e._uU(24,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,B,11,1,"mat-card",13)),2&n&&(e.Q6J("message","Searching"),e.xp6(1),e.Q6J("formGroup",o.locationForm),e.xp6(10),e.Q6J("ngIf",o.locationForm.controls.name.hasError("required")),e.xp6(5),e.Q6J("ngIf",o.locationForm.controls.city.hasError("required")),e.xp6(4),e.Q6J("ngForOf",o.states),e.xp6(1),e.Q6J("ngIf",o.locationForm.controls.state.hasError("required")),e.xp6(2),e.Q6J("disabled",!o.locationForm.valid),e.xp6(2),e.Q6J("ngIf",o.locations))},directives:[L.O,m._Y,m.JL,m.sg,p.a8,p.dk,p.n5,p.dn,T.KE,F.Nt,m.Fj,m.JJ,m.u,Z.O5,T.TO,P.gD,Z.sg,U.ey,p.hq,I.lW,p.$j,E.i$,E.Tg,M.d,U.X2],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col-state[_ngcontent-%COMP%]{max-width:8rem}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.location-result[_ngcontent-%COMP%]{cursor:pointer;transition-property:background-color;transition-duration:1s;border-radius:5px}.location-result[_ngcontent-%COMP%]:hover{background-color:#00a4ef}@media (max-width: 380px){.col[_ngcontent-%COMP%]{flex:.7;margin-right:20px}.col-state[_ngcontent-%COMP%]{max-width:4rem}}.location-results-card[_ngcontent-%COMP%]{background-color:#d3d3d373;border:1px solid darkgray}"]}),t}(),_=r(6029),z=function(){var t=function(){function i(n,o){var a=this;(0,b.Z)(this,i),this.callLocationService=n,this.store=o,this.nexmoEvent=new e.vpe,this.locationCalledEvent=new e.vpe,this.authToken="",this.callButtonText="Call Now",this.phoneCall=function(){a.store.dispatch(g.p()),a.callLocationService.nexmoRegistrationCall(a.potentialLocation.place_id,a.authToken).subscribe({next:function(l){console.log("call data: ",l),console.log(l.requestId),a.nexmoEvent.emit(l.requestId),a.store.dispatch(g.X()),a.locationCalledEvent.emit(!0),localStorage.setItem("requestId",l.requestId)},error:function(l){console.log("Error in Call: ",l),a.store.dispatch(g.X()),localStorage.removeItem("requestId"),a.locationCalledEvent.emit(!1)}})},this.skipToCodeEntryCheck=function(){console.log("Checking for request Id"),null!==localStorage.getItem("requestId")&&(a.nexmoEvent.emit(localStorage.getItem("requestId")),a.store.dispatch(g.X()),a.locationCalledEvent.emit(!0))}}return(0,h.Z)(i,[{key:"ngOnInit",value:function(){var o=this;this.authState$=this.store.select(_.oH).subscribe(function(a){o.authToken=a.user.token})}},{key:"ngOnDestroy",value:function(){this.authState$.unsubscribe()}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(R),e.Y36(S.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-call-location"]],inputs:{potentialLocation:"potentialLocation"},outputs:{nexmoEvent:"nexmoEvent",locationCalledEvent:"locationCalledEvent"},decls:23,vars:4,consts:[[3,"message"],[1,"main-card"],["color","warn"],[2,"text-align","center"],["mat-raised-button","","type","button","color","accent",3,"click"],["mat-raised-button","","type","button","color","warn",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"app-spinner",0),e.TgZ(1,"mat-card",1),e.TgZ(2,"mat-card-header"),e.TgZ(3,"mat-card-subtitle"),e.TgZ(4,"h2"),e._uU(5,"Restaurant Access Verification"),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e.TgZ(7,"h4"),e._uU(8,"We need to call the telephone number that's associated with your business."),e.qZA(),e.qZA(),e.TgZ(9,"mat-card-subtitle",2),e.TgZ(10,"h4"),e._uU(11,' Write down the code that is given in the phone call and enter it in the "Verification Code" field in the next section.'),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"mat-card-content",3),e._UZ(13,"hr"),e.TgZ(14,"h2"),e._uU(15),e.qZA(),e.TgZ(16,"h2"),e._uU(17),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"button",4),e.NdJ("click",function(){return o.phoneCall()}),e._uU(20),e.qZA(),e.TgZ(21,"button",5),e.NdJ("click",function(){return o.skipToCodeEntryCheck()}),e._uU(22,"I have a Code"),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("message","Calling Restaurant"),e.xp6(15),e.hij(" ",o.potentialLocation.name,""),e.xp6(2),e.Oqu(o.potentialLocation.formatted_phone_number),e.xp6(3),e.Oqu(o.callButtonText))},directives:[L.O,p.a8,p.dk,p.$j,p.dn,I.lW],styles:[""]}),t}(),ee=r(7757),J=r.n(ee),te=r(655),y=r(3067),D=r(3900),oe=r(262),ne=r(9646),w=r(432),ae=r(5698),ie=r(8505),re=r(2731),A=r(7845),Y=r(3681),V=r(7261),G=function(){var t=function(){function i(n,o,a,s,l){var c=this;(0,b.Z)(this,i),this.http=n,this.firestoreDatabaseService=o,this.router=a,this._snackBar=s,this.store=l,this.cloudUrl="https://us-central1-savoryscout",this.handleLocationCreation=function(u,f,d){return console.log("querySnapshot length: ",u.length),console.log("Potential locatinon: ",f),console.log("UID: ",d),new Promise(function(x,be){if(0===u.length){console.log("creating new location from scratch",d),console.log("UID = ",d);var N={id:"",uid:d,author_id:d,google_id:f.place_id,name:"",address:"",phone:"",website:"",verification_stage:1,active:!1,managed:!0,image_url:null,thumb_url:null,happyHourMenu:"",brunchMenu:"",food:{color:"gray",active:!1,recurring:!1,recurringSpecials:[],specificDate:!1,specificDateSpecials:[]},drinks:{color:"gray",active:!1,recurring:!1,recurringSpecials:[],specificDate:!1,specificDateSpecials:[]},events:{color:"gray",active:!1,recurring:!1,recurringSpecials:[],specificDate:!1,specificDateSpecials:[]},updated_at:(0,re.Bt)()};c.firestoreDatabaseService.createLocation(N).then(function(v){console.log("Response from create: ",v),N.id=v.id,c.store.dispatch(A.z0({location:N})),c.store.dispatch(A.qg({data:{uid:d,id:v.id},id:v.id})),x(v)}).catch(function(v){c.store.dispatch(g.X()),localStorage.removeItem("requestId"),c._snackBar.openFromComponent(y.h,{data:{message:"Error: ".concat(v),color:"red"},duration:4e3})})}else u.forEach(function(v){console.log("Location Exists: ",v);var O=v.data();c.store.dispatch(A.qg({data:{uid:d},id:v.id})),O.id=v.id,O.uid=d,c.store.dispatch(A.z0({location:O})),x({message:"existing",id:v.id})})})},this.registrationSuccess=function(){return c.store.dispatch(g.X()),c._snackBar.openFromComponent(y.h,{data:{message:"Verification Success!",color:"green"},duration:1e3}).afterDismissed().pipe((0,ae.q)(1),(0,ie.b)(function(){return c.router.navigateByUrl("/identity")}))}}return(0,h.Z)(i,[{key:"verifyRegistrationCode",value:function(o,a,s,l,c){var u=new C.WM({"Content-Type":"application/json","No-Auth":"True"});return this.http.post(this.cloudUrl+".cloudfunctions.net/verifyRegistrationCode",{locationId:o,uid:a,nexmoCode:s,nexmoId:l,token:c},{headers:u})}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.LFG(C.eN),e.LFG(w.j),e.LFG(Y.F0),e.LFG(V.ux),e.LFG(S.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t}();function ce(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Code is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA(),e.qZA())}var se=function(){var t=function(){function i(n,o,a,s,l){(0,b.Z)(this,i),this.store=n,this.fb=o,this.verifyCodeService=a,this.firestoreDatabaseService=s,this._snackBar=l,this.authToken="",this.uid="",this.codeForm=this.fb.group({code:["",[m.kI.required,m.kI.min(0),m.kI.max(9999)]]})}return(0,h.Z)(i,[{key:"ngOnInit",value:function(){var o=this;this.authState$=this.store.select(_.oH).subscribe(function(a){o.authToken=a.user.token,o.uid=a.user.uid}),this._snackBar.openFromComponent(y.h,{data:{message:"Call Initiated: Please wait for our call",color:"green"},duration:6e3})}},{key:"onSubmit",value:function(){return(0,te.mG)(this,void 0,void 0,J().mark(function o(){var a=this;return J().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:this.store.dispatch(g.p()),console.log(this.codeForm.value),console.log("Nexmo ID: ",this.nexmoId),this.nexmoId&&this.verifyCodeService.verifyRegistrationCode(this.potentialLocation.place_id,this.uid,this.codeForm.value.code,this.nexmoId,this.authToken).pipe((0,D.w)(function(c){return console.log("inside switchMap: ",c),a.firestoreDatabaseService.searchForExistingLocation(a.potentialLocation.place_id).then(function(u){return u.docs})}),(0,D.w)(function(c){return console.log("data: ",c),console.log("inside switchMap 2: ",c),a.verifyCodeService.handleLocationCreation(c,a.potentialLocation,a.uid)}),(0,oe.K)(function(c){return console.log("Error: ",c),a.store.dispatch(g.X()),localStorage.removeItem("requestId"),a._snackBar.openFromComponent(y.h,{data:{message:"Error: ".concat(c),color:"red"},duration:4e3}),(0,ne.of)(c)})).subscribe({next:function(u){return a.verifyCodeService.registrationSuccess()},error:function(u){console.log("Error: ",u),a.store.dispatch(g.X()),localStorage.removeItem("requestId"),a._snackBar.openFromComponent(y.h,{data:{message:"Error: ".concat(u),color:"red"},duration:5e3})}});case 4:case"end":return l.stop()}},o,this)}))}},{key:"ngOnDestroy",value:function(){this.authState$.unsubscribe()}}]),i}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(S.yh),e.Y36(m.qu),e.Y36(G),e.Y36(w.j),e.Y36(V.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-verify-code"]],inputs:{nexmoId:"nexmoId",potentialLocation:"potentialLocation"},decls:17,vars:4,consts:[[3,"message"],[1,"main-card"],["color","warn"],["novalidate","",3,"formGroup","ngSubmit"],["matInput","","type","number","matNativeControl","","placeholder","Enter Code","formControlName","code"],[4,"ngIf"],["mat-raised-button","","type","submit",3,"disabled"]],template:function(n,o){1&n&&(e._UZ(0,"app-spinner",0),e.TgZ(1,"mat-card",1),e.TgZ(2,"mat-card-header"),e.TgZ(3,"mat-card-subtitle"),e.TgZ(4,"h2"),e._uU(5,"Access Code Verification"),e.qZA(),e.qZA(),e.TgZ(6,"mat-card-subtitle",2),e.TgZ(7,"h4"),e._uU(8,"Enter the access code from the phone call below"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"mat-card-content"),e.TgZ(10,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"mat-form-field"),e._UZ(12,"input",4),e.YNc(13,ce,4,0,"mat-error",5),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"button",6),e._uU(16,"Verify Code"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("message","Please wait, this could take up to 1 minute"),e.xp6(10),e.Q6J("formGroup",o.codeForm),e.xp6(3),e.Q6J("ngIf",o.codeForm.controls.code.hasError("required")),e.xp6(2),e.Q6J("disabled",!o.codeForm.valid))},directives:[L.O,p.a8,p.dk,p.$j,p.dn,m._Y,m.JL,m.sg,T.KE,F.Nt,m.wV,m.Fj,m.JJ,m.u,Z.O5,T.TO,I.lW],styles:[""]}),t}();function le(t,i){if(1&t){var n=e.EpF();e.TgZ(0,"app-find-restaurant",3),e.NdJ("progressEvent",function(a){return e.CHM(n),e.oxw().recieveLocation(a)}),e.qZA()}}function me(t,i){if(1&t){var n=e.EpF();e.TgZ(0,"app-call-location",4),e.NdJ("nexmoEvent",function(s){return e.CHM(n),e.oxw().recieveNexmoId(s)})("locationCalledEvent",function(s){return e.CHM(n),e.oxw().recieveLocationCalled(s)}),e.qZA()}if(2&t){var o=e.oxw();e.Q6J("potentialLocation",o.potentialLocation)}}function ue(t,i){if(1&t&&e._UZ(0,"app-verify-code",5),2&t){var n=e.oxw();e.Q6J("nexmoId",n.nexmoId)("potentialLocation",n.potentialLocation)}}var de=function(){var t=(0,h.Z)(function i(){var n=this;(0,b.Z)(this,i),this.potentialLocation=null,this.nexmoId="",this.potentialLocationCalled=!1,this.recieveLocation=function(o){n.potentialLocation=o},this.recieveNexmoId=function(o){n.nexmoId=o},this.recieveLocationCalled=function(o){n.potentialLocationCalled=o}});return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-location"]],decls:3,vars:3,consts:[[3,"progressEvent",4,"ngIf"],[3,"potentialLocation","nexmoEvent","locationCalledEvent",4,"ngIf"],[3,"nexmoId","potentialLocation",4,"ngIf"],[3,"progressEvent"],[3,"potentialLocation","nexmoEvent","locationCalledEvent"],[3,"nexmoId","potentialLocation"]],template:function(n,o){1&n&&(e.YNc(0,le,1,0,"app-find-restaurant",0),e.YNc(1,me,1,1,"app-call-location",1),e.YNc(2,ue,1,2,"app-verify-code",2)),2&n&&(e.Q6J("ngIf",!o.potentialLocation),e.xp6(1),e.Q6J("ngIf",o.potentialLocation&&!o.potentialLocationCalled),e.xp6(1),e.Q6J("ngIf",o.potentialLocation&&o.potentialLocationCalled))},directives:[Z.O5,$,z,se],styles:[""]}),t}(),pe=r(9814),ve=r(3954),ge=r(4466),fe=function(){var t=(0,h.Z)(function i(){(0,b.Z)(this,i)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[k,R,G],imports:[[m.u5,C.JF,ge.m,m.UX,ve.N6,p.QW,T.lN,P.LD,pe.Fk,F.c,I.ot,E.ie,M.t,Z.ez,Y.Bz.forChild([{path:"",component:de}])]]}),t}()}}]);