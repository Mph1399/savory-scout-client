(self.webpackChunksavory_scout_dashboard=self.webpackChunksavory_scout_dashboard||[]).push([[420],{1420:function(S,D,i){"use strict";i.r(D),i.d(D,{MapModule:function(){return p}});var f=i(3144),M=i(5671),m=i(7423),T=i(520),x=i(7845),E=i(2731),b=i(4086),Z=i(8505),y=i(8346),w=(0,f.Z)(function d(g,a){(0,M.Z)(this,d),this.lat=g,this.lng=a}),t=i(5e3),A=i(5620),v=i(9224),C=i(9808),I=i(3315),_=function(g,a){return{lat:g,lng:a}};function F(d,g){if(1&d&&(t._UZ(0,"map-marker",6),t.ALo(1,"async"),t.ALo(2,"async")),2&d){var r,a=t.oxw(2);t.Q6J("position",t.WLB(5,_,null==(r=t.lcZ(1,1,a.location$))?null:r.location.lat,null==(r=t.lcZ(2,3,a.location$))?null:r.location.lng))}}function e(d,g){if(1&d&&t._UZ(0,"map-marker",6),2&d){var a=t.oxw(2);t.Q6J("position",t.WLB(1,_,null==a.marker?null:a.marker.lat,null==a.marker?null:a.marker.lng))}}function n(d,g){if(1&d){var a=t.EpF();t.TgZ(0,"google-map",4),t.NdJ("mapClick",function(k){return t.CHM(a),t.oxw().onSetMarker(k)}),t.ALo(1,"async"),t.ALo(2,"async"),t.YNc(3,F,3,8,"map-marker",5),t.YNc(4,e,1,4,"map-marker",5),t.qZA()}if(2&d){var o,r=t.oxw();t.Q6J("zoom",r.zoom)("center",t.WLB(9,_,null==(o=t.lcZ(1,5,r.location$))?null:o.location.lat,null==(o=t.lcZ(2,7,r.location$))?null:o.location.lng))("options",r.options),t.xp6(3),t.Q6J("ngIf",!r.editing),t.xp6(1),t.Q6J("ngIf",r.editing)}}function c(d,g){if(1&d){var a=t.EpF();t.TgZ(0,"google-map",4),t.NdJ("mapClick",function(h){return t.CHM(a),t.oxw().onSetMarker(h)}),t._UZ(1,"map-marker",6),t.qZA()}if(2&d){var r=t.oxw();t.Q6J("zoom",r.zoom)("center",r.potentialCenter)("options",r.options),t.xp6(1),t.Q6J("position",t.WLB(4,_,null==r.marker?null:r.marker.lat,null==r.marker?null:r.marker.lng))}}var l=i(4717),s=function(){var d=function(){function g(a,r){var o=this;(0,M.Z)(this,g),this.store=a,this.editLocationService=r,this.editing=!1,this.location$=this.editLocationService.getLocationFromStore().pipe((0,b.g)(0),(0,Z.b)(function(h){console.log("Location: ",h.location,"Registering: ",h.registering),o.registering=!!h.registering,h.registering&&(o.potentialCenter=h.location.geometry.location)})),this.zoom=20,this.options={mapTypeId:"roadmap",zoomControl:!0,scrollwheel:!1,disableDoubleClickZoom:!1,maxZoom:21,minZoom:16},this.onSubmit=function(){console.log(o.marker);var k={data:{geohash:l.geohashForLocation([o.marker.lat,o.marker.lng]),geopoint:new E.F8(o.marker.lat,o.marker.lng),lat:o.marker.lat,lng:o.marker.lng}};!0===o.registering&&(k.data.verification_stage=3),o.store.dispatch(x.qg(k))}}return(0,f.Z)(g,[{key:"onSetMarker",value:function(r){this.editing=!0,this.marker=new w(r.latLng.lat(),r.latLng.lng())}}]),g}();return d.\u0275fac=function(a){return new(a||d)(t.Y36(A.yh),t.Y36(y.Q))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-map"]],decls:13,vars:5,consts:[[1,"main-card"],["height","500px","width","100%",3,"zoom","center","options","mapClick",4,"ngIf","ngIfElse"],["registrationMap",""],["mat-stroked-button","","color","primary",2,"margin","auto","display","block",3,"disabled","click"],["height","500px","width","100%",3,"zoom","center","options","mapClick"],[3,"position",4,"ngIf"],[3,"position"]],template:function(a,r){if(1&a&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-title"),t._uU(2,"Map Location:"),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t._uU(4,"Click the map to set your business location. "),t.qZA(),t.TgZ(5,"mat-card-content"),t.YNc(6,n,5,12,"google-map",1),t.ALo(7,"async"),t.YNc(8,c,2,7,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(10,"mat-card-actions"),t.TgZ(11,"button",3),t.NdJ("click",function(){return r.onSubmit()}),t._uU(12,"Save Location"),t.qZA(),t.qZA(),t.qZA()),2&a){var h,o=t.MAs(9);t.xp6(6),t.Q6J("ngIf",!(null!=(h=t.lcZ(7,3,r.location$))&&h.registering))("ngIfElse",o),t.xp6(5),t.Q6J("disabled",void 0===r.marker)}},directives:[v.a8,v.n5,v.$j,v.dn,C.O5,I.b6,I.O_,v.hq,m.lW],pipes:[C.Ov],styles:["#map[_ngcontent-%COMP%]{height:400px;width:100%}"]}),d}(),u=i(3681),p=function(){var d=(0,f.Z)(function g(){(0,M.Z)(this,g)});return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[C.ez,T.JF,I.Y4,m.ot,v.QW,u.Bz.forChild([{path:"",component:s}])]]}),d}()},4717:function(S,D){!function(i){"use strict";var f="0123456789bcdefghjkmnpqrstuvwxyz",m=110574,T=6378137,x=.00669447819799;function E(e){return Math.log(e)/Math.log(2)}function b(e){var n;if(Array.isArray(e))if(2!==e.length)n="expected array of length 2, got length "+e.length;else{var c=e[0],l=e[1];"number"!=typeof c||isNaN(c)?n="latitude must be a number":c<-90||c>90?n="latitude must be within the range [-90, 90]":"number"!=typeof l||isNaN(l)?n="longitude must be a number":(l<-180||l>180)&&(n="longitude must be within the range [-180, 180]")}else n="location must be an array";if(void 0!==n)throw new Error("Invalid GeoFire location '"+e+"': "+n)}function Z(e){var n;if("string"!=typeof e)n="geohash must be a string";else if(0===e.length)n="geohash cannot be the empty string";else for(var c=0,l=e;c<l.length;c++){var s=l[c];-1===f.indexOf(s)&&(n="geohash cannot contain '"+s+"'")}if(void 0!==n)throw new Error("Invalid GeoFire geohash '"+e+"': "+n)}function y(e){if("number"!=typeof e||isNaN(e))throw new Error("Error: degrees must be a number");return e*Math.PI/180}function w(e,n){if(void 0===n&&(n=10),b(e),void 0!==n){if("number"!=typeof n||isNaN(n))throw new Error("precision must be a number");if(n<=0)throw new Error("precision must be greater than 0");if(n>22)throw new Error("precision cannot be greater than 22");if(Math.round(n)!==n)throw new Error("precision must be an integer")}for(var c={min:-90,max:90},l={min:-180,max:180},s="",u=0,p=0,d=1;s.length<n;){var a=d?l:c,r=(a.min+a.max)/2;(d?e[1]:e[0])>r?(u=1+(u<<1),a.min=r):(u=0+(u<<1),a.max=r),d=!d,p<4?p++:(p=0,s+=f[u],u=0)}return s}function t(e,n){var c=y(n),l=Math.cos(c)*T*Math.PI/180*(1/Math.sqrt(1-x*Math.sin(c)*Math.sin(c)));return l<1e-12?e>0?360:0:Math.min(360,e/l)}function A(e,n){var c=t(e,n);return Math.abs(c)>1e-6?Math.max(1,E(360/c)):1}function v(e){return Math.min(E(20003930/e),110)}function C(e){if(e<=180&&e>=-180)return e;var n=e+180;return n>0?n%360-180:180- -n%360}function I(e,n){var c=n/m,l=Math.min(90,e[0]+c),s=Math.max(-90,e[0]-c),u=2*Math.floor(v(n)),p=2*Math.floor(A(n,l))-1,d=2*Math.floor(A(n,s))-1;return Math.min(u,p,d,110)}function _(e,n){var c=n/m,l=Math.min(90,e[0]+c),s=Math.max(-90,e[0]-c),u=t(n,l),p=t(n,s),d=Math.max(u,p);return[[e[0],e[1]],[e[0],C(e[1]-d)],[e[0],C(e[1]+d)],[l,e[1]],[l,C(e[1]-d)],[l,C(e[1]+d)],[s,e[1]],[s,C(e[1]-d)],[s,C(e[1]+d)]]}function F(e,n){Z(e);var c=Math.ceil(n/5);if(e.length<c)return[e,e+"~"];var l=(e=e.substring(0,c)).substring(0,e.length-1),s=f.indexOf(e.charAt(e.length-1)),u=5-(n-5*l.length),p=s>>u<<u,d=p+(1<<u);return d>31?[l+f[p],l+"~"]:[l+f[p],l+f[d]]}i.BASE32=f,i.BITS_PER_CHAR=5,i.E2=x,i.EARTH_EQ_RADIUS=T,i.EARTH_MERI_CIRCUMFERENCE=40007860,i.EPSILON=1e-12,i.GEOHASH_PRECISION=10,i.MAXIMUM_BITS_PRECISION=110,i.METERS_PER_DEGREE_LATITUDE=m,i.boundingBoxBits=I,i.boundingBoxCoordinates=_,i.degreesToRadians=y,i.distanceBetween=function(e,n){b(e),b(n);var c=y(n[0]-e[0]),l=y(n[1]-e[1]),s=Math.sin(c/2)*Math.sin(c/2)+Math.cos(y(e[0]))*Math.cos(y(n[0]))*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},i.geohashForLocation=w,i.geohashQuery=F,i.geohashQueryBounds=function(e,n){b(e);var c=Math.max(1,I(e,n)),l=Math.ceil(c/5),s=_(e,n).map(function(u){return F(w(u,l),c)});return s.filter(function(u,p){return!s.some(function(d,g){return p>g&&u[0]===d[0]&&u[1]===d[1]})})},i.latitudeBitsForResolution=v,i.longitudeBitsForResolution=A,i.metersToLongitudeDegrees=t,i.validateGeohash=Z,i.validateKey=function(e){var n;if("string"!=typeof e?n="key must be a string":0===e.length?n="key cannot be the empty string":11+e.length>755?n="key is too long to be stored in Firebase":/[\[\].#$\/\u0000-\u001F\u007F]/.test(e)&&(n="key cannot contain any of the following characters: . # $ ] [ /"),void 0!==n)throw new Error("Invalid GeoFire key '"+e+"': "+n)},i.validateLocation=b,i.wrapLongitude=C,Object.defineProperty(i,"__esModule",{value:!0})}(D)},9224:function(S,D,i){"use strict";i.d(D,{a8:function(){return u},hq:function(){return I},dn:function(){return A},dk:function(){return p},QW:function(){return g},$j:function(){return C},n5:function(){return v}});var f=i(3144),M=i(5671),m=i(5e3),T=i(6360),x=i(508),E=["*",[["mat-card-footer"]]],b=["*","mat-card-footer"],Z=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],y=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],A=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r)});return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=m.lG2({type:a,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),a}(),v=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r)});return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=m.lG2({type:a,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),a}(),C=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r)});return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=m.lG2({type:a,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),a}(),I=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r),this.align="start"});return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=m.lG2({type:a,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(o,h){2&o&&m.ekj("mat-card-actions-align-end","end"===h.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),a}(),u=function(){var a=(0,f.Z)(function r(o){(0,M.Z)(this,r),this._animationMode=o});return a.\u0275fac=function(o){return new(o||a)(m.Y36(T.Qb,8))},a.\u0275cmp=m.Xpm({type:a,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(o,h){2&o&&m.ekj("_mat-animation-noopable","NoopAnimations"===h._animationMode)},exportAs:["matCard"],ngContentSelectors:b,decls:2,vars:0,template:function(o,h){1&o&&(m.F$t(E),m.Hsn(0),m.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),a}(),p=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r)});return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=m.Xpm({type:a,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(o,h){1&o&&(m.F$t(Z),m.Hsn(0),m.TgZ(1,"div",0),m.Hsn(2,1),m.qZA(),m.Hsn(3,2))},encapsulation:2,changeDetection:0}),a}(),g=function(){var a=(0,f.Z)(function r(){(0,M.Z)(this,r)});return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[x.BQ],x.BQ]}),a}()}}]);