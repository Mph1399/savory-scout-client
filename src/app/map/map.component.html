

<!-- Show the city select -->
<app-city-select *ngIf="(filteredLocations$ | async)!.locations.length === 0"></app-city-select>


<div >
<google-map 
(tilesloaded)="setInitialBounds()" 
[options]="options" 
[zoom]="zoom" 
[center]="center" height="95vh" width="100vw" 
(mapDragend)="evaluateMapDistanceFromLastCenter()">
    
<ng-container *ngFor="let marker of markers; let i = index" >
    <map-marker 
    #somemarker="mapMarker" 
    *ngIf="
    (filters$ | async)!.filters.active && marker.info.active && marker.info.food!.active && marker.info.display || 
    (filters$ | async)!.filters.active && marker.info.active && marker.info.drinks!.active && marker.info.display || 
    (filters$ | async)!.filters.active && marker.info.active && marker.info.events!.active && marker.info.display ||
    !(filters$ | async)!.filters.active && marker.info.display"
    [position]="marker.position"
    [title]="marker.title"
    [options]="marker.options"
    (mapClick)="openInfo(somemarker, marker.info)" >
    </map-marker>
</ng-container>    


<map-info-window #infoWindow>
    <app-info-window [infoContent]="infoContent"></app-info-window>
</map-info-window>
</google-map>
</div>

